/* ============= MODERN CLEAN CHAT CONTAINER ============= */
.futuristic-chat-container {
  background: linear-gradient(to bottom, 
    rgba(15, 23, 42, 0.95) 0%,
    rgba(30, 41, 59, 0.92) 100%);
  backdrop-filter: blur(24px) saturate(180%);
  position: relative;
  overflow: hidden;
  border: 1px solid rgba(100, 116, 139, 0.1);
  min-height: 0;
}

.futuristic-chat-container::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    radial-gradient(circle at 50% 0%, rgba(56, 189, 248, 0.08) 0%, transparent 50%),
    radial-gradient(circle at 100% 100%, rgba(139, 92, 246, 0.05) 0%, transparent 50%);
  pointer-events: none;
}

/* Smooth scroll behavior */
.smooth-scroll {
  scroll-behavior: smooth;
  overflow-y: auto;
}

/* Modern typing animation */
@keyframes typingBounce {
  0%, 60%, 100% { transform: translateY(0); }
  30% { transform: translateY(-8px); }
}

/* ============= MODERN CLEAN INPUT ZONE ============= */
.futuristic-input-zone {
  background: linear-gradient(to top, 
    rgba(15, 23, 42, 0.98) 0%,
    rgba(30, 41, 59, 0.95) 100%);
  backdrop-filter: blur(20px) saturate(150%);
  border-top: 1px solid rgba(100, 116, 139, 0.2);
  position: relative;
  overflow: visible;
}

/* ============= MODERN CLEAR BUTTON ============= */
.cyber-clear-btn {
  position: relative;
  overflow: hidden;
  backdrop-filter: blur(12px);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.cyber-clear-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, 
    rgba(56, 189, 248, 0.1),
    rgba(14, 165, 233, 0.05));
  opacity: 0;
  transition: opacity 0.3s ease;
}

.cyber-clear-btn:hover::before {
  opacity: 1;
}

.cyber-clear-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px -4px rgba(56, 189, 248, 0.25);
}

/* ---------- Enhanced Modern Chat Input Styles ---------- */
.chat-input-shell { 
	position: relative; 
	border-radius: 20px; 
	padding: 0; 
	background: linear-gradient(135deg, 
		rgba(30, 41, 59, 0.9) 0%,
		rgba(15, 23, 42, 0.95) 100%);
	box-shadow: 
		0 4px 24px -4px rgba(0, 0, 0, 0.3),
		0 0 0 1px rgba(100, 116, 139, 0.2),
		inset 0 1px 0 rgba(255, 255, 255, 0.05);
	backdrop-filter: blur(20px) saturate(160%);
	-webkit-backdrop-filter: blur(20px) saturate(160%);
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	overflow: hidden;
}

.chat-input-shell:focus-within { 
	box-shadow: 
		0 8px 32px -4px rgba(56, 189, 248, 0.25),
		0 0 0 1px rgba(56, 189, 248, 0.4),
		inset 0 1px 0 rgba(255, 255, 255, 0.1);
	transform: translateY(-2px);
}

/* Inner panel */
.chat-input-surface { 
	display: flex; 
	align-items: flex-end; 
	gap: 0.75rem; 
	padding: 0.875rem 1rem; 
	border-radius: 20px; 
	background: transparent;
	position: relative; 
	min-height: 54px;
}

/* Text area */
.chat-textarea { 
	flex: 1; 
	background: transparent; 
	color: #f1f5f9; 
	resize: none; 
	border: none; 
	outline: none; 
	font-size: 0.9375rem; 
	line-height: 1.4rem; 
	font-weight: 400;
	letter-spacing: 0.01em;
	transition: color 0.25s ease; 
	max-height: 150px; 
	padding: 8px 0 4px 0;
	min-width: 0; /* Allow shrinking below content size */
}
.chat-textarea::placeholder { 
	color: rgba(148, 163, 184, 0.5); 
	font-weight: 400;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

/* Icon buttons - Modern clean style */
.icon-btn { 
	position: relative; 
	width: 40px; 
	height: 40px; 
	flex-shrink: 0; 
	display: flex; 
	align-items: center; 
	justify-content: center; 
	border-radius: 12px; 
	background: rgba(51, 65, 85, 0.4);
	color: #94a3b8; 
	border: 1px solid rgba(100, 116, 139, 0.3);
	backdrop-filter: blur(8px);
	-webkit-backdrop-filter: blur(8px);
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
	cursor: pointer; 
}
.icon-btn:hover { 
	color: #38bdf8; 
	background: rgba(56, 189, 248, 0.15);
	border-color: rgba(56, 189, 248, 0.4);
	transform: translateY(-2px);
	box-shadow: 0 4px 12px -2px rgba(56, 189, 248, 0.3);
}
.icon-btn:active { transform: translateY(0); }
.icon-btn[disabled] { opacity: 0.4; cursor: not-allowed; filter: grayscale(0.6); }

/* Recording state */
.icon-btn.recording { 
	color: #f87171; 
	background: rgba(248, 113, 113, 0.2);
	border-color: rgba(248, 113, 113, 0.5);
	box-shadow: 0 0 0 2px rgba(248, 113, 113, 0.2);
	animation: pulseRec 1.6s ease-in-out infinite; 
}
@keyframes pulseRec { 
	0%, 100% { box-shadow: 0 0 0 2px rgba(248, 113, 113, 0.2); }
	50% { box-shadow: 0 0 0 6px rgba(248, 113, 113, 0.1); }
}

/* Enhanced Upload Button */
.upload-btn {
	background: rgba(16, 185, 129, 0.15) !important;
	border-color: rgba(16, 185, 129, 0.3) !important;
	color: #34d399 !important;
}

.upload-btn:hover:not([disabled]) {
	background: rgba(16, 185, 129, 0.25) !important;
	border-color: rgba(16, 185, 129, 0.5) !important;
	color: #10b981 !important;
	box-shadow: 0 4px 12px -2px rgba(16, 185, 129, 0.3);
}

/* Send button - Modern gradient style */
.send-btn { 
	position: relative; 
	width: 48px; 
	height: 48px; 
	border-radius: 14px; 
	background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%); 
	display: flex; 
	align-items: center; 
	justify-content: center; 
	color: #fff; 
	border: 1px solid rgba(255, 255, 255, 0.2);
	box-shadow: 
		0 4px 16px -4px rgba(14, 165, 233, 0.5),
		inset 0 1px 0 rgba(255, 255, 255, 0.2);
	overflow: hidden; 
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
	cursor: pointer;
}
.send-btn:hover { 
	transform: translateY(-2px) scale(1.05); 
	box-shadow: 0 6px 20px -4px rgba(14, 165, 233, 0.6);
}
.send-btn:active { transform: translateY(0) scale(0.98); }
.send-btn[disabled] { opacity: 0.5; cursor: not-allowed; transform: none; box-shadow: none; }
.send-btn::after { 
	content: ""; 
	position: absolute; 
	inset: 0; 
	background: linear-gradient(135deg, rgba(255,255,255,0.3), transparent 60%);
	mix-blend-mode: overlay; 
	opacity: 0.4; 
	pointer-events: none;
}

/* -------------------------------------------------- */
/* Compact / Modern Variant (Clean Minimalist Design)  */
/* -------------------------------------------------- */
.chat-input-shell.chat-compact { 
	border-radius: 18px; 
	background: rgba(30, 41, 59, 0.85);
	padding: 0; 
	box-shadow: 
		0 4px 20px -4px rgba(0, 0, 0, 0.3),
		0 0 0 1px rgba(100, 116, 139, 0.2),
		inset 0 1px 0 rgba(255, 255, 255, 0.05);
	position: relative;
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.chat-input-shell.chat-compact:focus-within { 
	box-shadow: 
		0 8px 32px -4px rgba(56, 189, 248, 0.3),
		0 0 0 1px rgba(56, 189, 248, 0.4),
		inset 0 1px 0 rgba(255, 255, 255, 0.1);
	transform: translateY(-1px);
}

.chat-input-shell.chat-compact .chat-input-surface { 
	border-radius: 18px; 
	padding: 0.625rem 0.875rem; 
	min-height: 44px; 
	background: transparent;
	border: none;
}

.chat-input-shell.chat-compact .chat-textarea { 
	font-size: 0.875rem; 
	line-height: 1.3rem; 
	padding-top: 12px;
	font-weight: 400;
	letter-spacing: 0.01em;
	color: #e2e8f0;
	caret-color: #38bdf8;
}

.chat-input-shell.chat-compact .icon-btn { 
	width: 38px; 
	height: 38px; 
	border-radius: 12px; 
}

.chat-input-shell.chat-compact .send-btn { 
	width: 46px; 
	height: 46px; 
	border-radius: 13px; 
}

.spinner { 
	width: 24px; 
	height: 24px; 
	border-radius: 50%; 
	border: 3px solid rgba(255,255,255,.38); 
	border-top-color: #fff; 
	animation: spin .9s linear infinite; 
}
@keyframes spin { to { transform: rotate(360deg); } }

/* --- Header Logo Animations --- */
@keyframes spinSlow { to { transform: rotate(360deg); } }
.animate-spin-slow { animation: spinSlow 18s linear infinite; }

@keyframes pulseFast { 0%,100% { opacity:.55; transform:scale(1);} 50% { opacity:.95; transform:scale(1.05);} }
.animate-pulse-fast { animation: pulseFast 3.4s ease-in-out infinite; }

/* Organic fluid distortion using mask + subtle movement */
@keyframes fluid { 
	0% { transform: translateY(0) rotate(0deg) scale(1); filter: hue-rotate(0deg) brightness(1); }
	25% { transform: translateY(-3%) rotate(6deg) scale(1.04); }
	50% { transform: translateY(2%) rotate(-4deg) scale(0.97); filter: hue-rotate(25deg) brightness(1.05); }
	75% { transform: translateY(-2%) rotate(3deg) scale(1.02); }
	100% { transform: translateY(0) rotate(0deg) scale(1); filter: hue-rotate(0deg) brightness(1); }
}
.animate-fluid-mask { animation: fluid 9s ease-in-out infinite; }

/* Utility hide scrollbar but keep scroll */
.hide-scrollbar { scrollbar-width: none; -ms-overflow-style: none; }
.hide-scrollbar::-webkit-scrollbar { display: none; }

/* Additional global scrollbar suppression (fallback for some engines) */
body { scrollbar-width: none; }
body::-webkit-scrollbar { width:0; height:0; display:none; }
body { overscroll-behavior-y: contain; overflow:hidden; }

/* Hide scrollbar inside the expanding chat textarea */
.chat-textarea { scrollbar-width: none; }
.chat-textarea::-webkit-scrollbar { display:none; }

/* ---------------------- Responsive Shell ---------------------- */
.app-shell { min-height:100vh; min-height:100dvh; width:100%; }
.app-shell main { flex:1; display:flex; flex-direction:column; }

/* Prevent horizontal flicker / unintended scroll on very narrow devices */
html, body, #root, .app-shell { max-width:100%; overflow-x:hidden; }

/* ---------------------- Adaptive Chat Input ---------------------- */
/* Tablets & Small Laptops */
@media (max-width: 768px) {
	.chat-input-shell.chat-compact .chat-input-surface { padding:.55rem .7rem .55rem .8rem; min-height:42px; }
	.chat-input-shell.chat-compact .icon-btn { width:36px; height:36px; }
	.chat-input-shell.chat-compact .send-btn { width:46px; height:46px; }
	.chat-input-shell.chat-compact .chat-textarea { font-size:.85rem; line-height:1.2rem; }
	.chat-input-shell.chat-compact .placeholder-layer { font-size:.7rem; left:16px; }
}

/* Mobile Phones */
@media (max-width: 640px) {
	.chat-input-shell.chat-compact .chat-input-surface { padding:.45rem .6rem .45rem .7rem; min-height:40px; gap: 0.5rem; }
	.chat-input-shell.chat-compact .icon-btn { width:32px; height:32px; border-radius:10px; }
	.chat-input-shell.chat-compact .send-btn { width:42px; height:42px; border-radius:14px; }
	.chat-input-shell.chat-compact .chat-textarea { font-size:.8rem; line-height:1.1rem; padding-top:10px; }
	.chat-input-shell.chat-compact .placeholder-layer { font-size:.65rem; top:6px; left:14px; }
	.chat-input-shell.chat-compact .chat-textarea::placeholder { font-size:.75rem; }
}

/* Very Small Phones */
@media (max-width: 420px) {
	/* Hide rotating subtitle to save vertical space */
	header .h-5.relative, header .h-5.relative * { display:none !important; }
	.chat-input-shell.chat-compact { box-shadow:0 3px 18px -6px rgba(2,132,199,0.5),0 0 0 1px rgba(56,189,248,0.3); }
	.chat-input-shell.chat-compact .chat-input-surface { padding:.4rem .55rem .4rem .65rem; min-height:38px; }
	.chat-input-shell.chat-compact .icon-btn { width:30px; height:30px; }
	.chat-input-shell.chat-compact .send-btn { width:40px; height:40px; }
}

/* Landscape phones / very short height */
@media (max-height: 500px) and (orientation: landscape) {
	header { padding:0.5rem 1rem; }
	.chat-input-shell.chat-compact .chat-input-surface { min-height:36px; padding:.35rem .5rem .35rem .6rem; }
	.chat-input-shell.chat-compact .icon-btn { width:28px; height:28px; }
	.chat-input-shell.chat-compact .send-btn { width:38px; height:38px; }
}

/* Ultra-wide Desktop */
@media (min-width:1600px) {
	.chat-input-shell.chat-compact .chat-textarea { font-size:1rem; }
	.chat-input-shell.chat-compact .placeholder-layer { font-size:.75rem; }
}

/* Smooth transform rendering */
.chat-input-shell, .send-btn, .icon-btn { will-change:transform; }

/* Modern fade-in animation for messages */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fadeInUp {
  animation: fadeInUp 0.4s ease-out;
}

/* Smooth scrollbar styling */
.smooth-scroll::-webkit-scrollbar {
  width: 8px;
}

.smooth-scroll::-webkit-scrollbar-track {
  background: rgba(15, 23, 42, 0.3);
  border-radius: 4px;
}

.smooth-scroll::-webkit-scrollbar-thumb {
  background: rgba(100, 116, 139, 0.4);
  border-radius: 4px;
}

.smooth-scroll::-webkit-scrollbar-thumb:hover {
  background: rgba(100, 116, 139, 0.6);
}

/* ============= FULL SCREEN APP LAYOUT ============= */
html, body, #root {
  margin: 0;
  padding: 0;
  height: 100vh;
  overflow: hidden;
  background: transparent;
}

.app-shell {
  height: 100vh;
  width: 100vw;
  margin: 0;
  padding: 0;
  overflow: hidden;
  background: transparent;
}

.app-shell main {
  height: calc(100vh - 60px); /* Refined header height */
  margin: 0;
  padding: 0;
  overflow: hidden;
}

/* FIX: Prevent horizontal scroll on mobile */
.app-shell {
  max-width: 100vw;
  overflow-x: hidden;
}

/* FIX: Prevent zoom on input focus (iOS Safari) */
@media screen and (max-width: 768px) {
  .chat-textarea, input, textarea, select {
    font-size: 16px !important; /* Minimum to prevent zoom */
  }
}

/* FIX: Stabilize textarea auto-grow on mobile */
.chat-textarea {
  -webkit-overflow-scrolling: touch;
  max-height: 150px;
  will-change: height;
  transition: none !important; /* Remove height transition to prevent jump */
}

/* iOS keyboard safe bottom spacing fix fallback */
@supports (padding: max(0px)) { 
	.app-shell main { padding-bottom: max(env(safe-area-inset-bottom), 0px); }
}
